<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use App\Models\Course;
use App\Models\Faculty;

class CourseSeeder extends Seeder
{
    public function run(): void
    {
        // Курсы по 5 штук на каждый факультет
        $coursesPerFaculty = [
            'Информационные технологии' => [
                'Алгоритмы и структуры данных',
                'Веб-программирование',
                'Базы данных',
                'Кибербезопасность',
                'Искусственный интеллект'
            ],
            'Гуманитарные науки' => [
                'История культуры',
                'Философия',
                'Социология',
                'Критическое мышление',
                'Этика общения'
            ],
            'Экономика и управление' => [
                'Маркетинг',
                'Бухгалтерский учёт',
                'Менеджмент',
                'Финансовый анализ',
                'Экономика предприятий'
            ],
            'Физико-математические науки' => [
                'Математический анализ',
                'Физика твёрдого тела',
                'Теория вероятностей',
                'Линейная алгебра',
                'Дифференциальные уравнения'
            ],
            'Право' => [
                'Гражданское право',
                'Уголовное право',
                'Международное право',
                'Трудовое право',
                'Конституционное право'
            ],
            'Психология' => [
                'Общая психология',
                'Детская психология',
                'Психология личности',
                'Социальная психология',
                'Психодиагностика'
            ],
            'Иностранные языки' => [
                'Английский язык',
                'Немецкий язык',
                'Французский язык',
                'Методика преподавания языков',
                'Фонетика и грамматика'
            ],
            'Медицина' => [
                'Анатомия человека',
                'Фармакология',
                'Терапия',
                'Педиатрия',
                'Сестринское дело'
            ],
            'Архитектура и дизайн' => [
                'Основы архитектуры',
                'Графический дизайн',
                'История архитектуры',
                'Технический рисунок',
                'Дизайн интерьеров'
            ],
            'Педагогика и образование' => [
                'Педагогика',
                'Дидактика',
                'Методика обучения',
                'Инклюзивное образование',
                'Управление образованием'
            ],
        ];

        Faculty::query()->whereIn('name_faculty', array_keys($coursesPerFaculty))->get()->each(function ($faculty) use ($coursesPerFaculty) {
            $name = $faculty->name_faculty;
            $courseList = $coursesPerFaculty[$name] ?? [];

            foreach ($courseList as $courseName) {
                Course::create([
                    'id_faculty' => $faculty->id,
                    'name_course' => $courseName,
                ]);
            }
        });
    }
}

